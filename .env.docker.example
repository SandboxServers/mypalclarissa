# MyPalClarissa Docker Environment Configuration
# Copy this to .env and fill in your values

# --------------------------
# LLM Provider (for chat)
#   openrouter | nanogpt | openai
# --------------------------
LLM_PROVIDER=openrouter

# --------------------------
# Mem0 Provider (for memory extraction) - independent from chat LLM
#   openrouter | nanogpt | openai
# --------------------------
MEM0_PROVIDER=openrouter
MEM0_MODEL=openai/gpt-4o-mini
# MEM0_API_KEY=...       # Optional: override provider's default key
# MEM0_BASE_URL=...      # Optional: override provider's default URL

# --------------------------
# User / Project
# --------------------------
USER_ID=demo-user
DEFAULT_PROJECT=Default Project

# --------------------------
# OpenRouter API
# --------------------------
OPENROUTER_API_KEY=sk-or-...
OPENROUTER_MODEL=anthropic/claude-sonnet-4
OPENROUTER_SITE=http://localhost:3000
OPENROUTER_TITLE=MyPalClarissa

# --------------------------
# NanoGPT API
# --------------------------
NANOGPT_API_KEY=sk-nano-...
NANOGPT_MODEL=moonshotai/Kimi-K2-Instruct-0905

# --------------------------
# Custom OpenAI-compatible API (for LLM_PROVIDER=openai)
# --------------------------
CUSTOM_OPENAI_API_KEY=sk-custom-...
CUSTOM_OPENAI_BASE_URL=https://api.openai.com/v1
CUSTOM_OPENAI_MODEL=gpt-4o

# --------------------------
# OpenAI API (ALWAYS used for embeddings)
# --------------------------
OPENAI_API_KEY=sk-proj-...

# --------------------------
# PostgreSQL Database (optional - uses SQLite by default)
# Use with: docker-compose --profile postgres up
# --------------------------
POSTGRES_PASSWORD=clarissa
DATABASE_URL=postgresql://clarissa:clarissa@localhost:5432/clarissa_main
MEM0_DATABASE_URL=postgresql://clarissa:clarissa@localhost:5433/clarissa_vectors

# --------------------------
# Graph Memory (for relationship tracking)
# Optional: enables tracking relationships between people, places, events
# Set ENABLE_GRAPH_MEMORY=true to enable, then choose a provider:
#   neo4j: Requires Neo4j server or Neo4j Aura (free tier available)
#   kuzu: Embedded database, no external server (recommended for local dev)
# --------------------------
ENABLE_GRAPH_MEMORY=false
# GRAPH_STORE_PROVIDER=neo4j

# Neo4j configuration (if using GRAPH_STORE_PROVIDER=neo4j)
# NEO4J_URL=neo4j+s://xxxxx.databases.neo4j.io
# NEO4J_USERNAME=neo4j
# NEO4J_PASSWORD=your-password

# --------------------------
# Web Search (Tavily API)
# Get a free API key at https://tavily.com
# --------------------------
# TAVILY_API_KEY=tvly-...

# --------------------------
# Docker Code Execution Sandbox
# Enables Clarissa to execute Python code, install packages, and run shell commands
# Requires Docker to be installed and running (Docker Desktop or dockerd)
# --------------------------
# DOCKER_SANDBOX_IMAGE=python:3.12-slim  # Base Docker image
# DOCKER_SANDBOX_TIMEOUT=900  # Container idle timeout in seconds (default: 15 minutes)
# DOCKER_SANDBOX_MEMORY=512m  # Memory limit per container
# DOCKER_SANDBOX_CPU=1.0  # CPU limit per container

# --------------------------
# S3-Compatible Storage (Wasabi, AWS, MinIO, etc.)
# Cloud storage for Clarissa's files instead of local filesystem
# Wasabi offers S3-compatible storage at lower cost than AWS
# --------------------------
S3_ENABLED=false
# S3_BUCKET=clarissa-files
# S3_ENDPOINT_URL=https://s3.wasabisys.com  # Wasabi US East
# S3_ACCESS_KEY=your-access-key
# S3_SECRET_KEY=your-secret-key
# S3_REGION=us-east-1

# --------------------------
# Discord Bot
# Create a bot at https://discord.com/developers/applications
# Enable MESSAGE CONTENT INTENT in Bot settings
# Invite URL: https://discord.com/oauth2/authorize?client_id=YOUR_CLIENT_ID&permissions=274877991936&scope=bot
# --------------------------
# DISCORD_BOT_TOKEN=your-bot-token
# DISCORD_CLIENT_ID=your-client-id

# Optional: Restrict to specific channels/roles (comma-separated IDs)
# DISCORD_ALLOWED_CHANNELS=123456789,987654321
# DISCORD_ALLOWED_ROLES=123456789

# Optional: Conversation settings
# DISCORD_MAX_MESSAGES=25
# DISCORD_MAX_CHARS=100000

# --------------------------
# Multi-User / Group Chat (HuixiangDou-inspired)
# Organic responses without @ mentions
# --------------------------
ORGANIC_RESPONSE_ENABLED=false
ORGANIC_CONFIDENCE_THRESHOLD=0.4
ORGANIC_COOLDOWN_MINUTES=3
ORGANIC_DAILY_LIMIT=50

# --------------------------
# Auto Tier Selection (KIRA-inspired)
# Automatically selects model tier based on task complexity
# --------------------------
AUTO_TIER_ENABLED=true
AUTO_TIER_SHOW_SELECTION=false

# --------------------------
# Task Planning (Manus AI-inspired)
# Persistent markdown files for complex task management
# --------------------------
PLANNING_FILES_ENABLED=true

# --------------------------
# Proactive Monitoring
# Background checkers for GitHub, Azure DevOps, Email
# --------------------------
PROACTIVE_ENABLED=false
PROACTIVE_QUIET_START=22
PROACTIVE_QUIET_END=8

# GitHub checker
GITHUB_CHECKER_ENABLED=false
GITHUB_CHECKER_INTERVAL=15

# Azure DevOps checker
ADO_CHECKER_ENABLED=false
ADO_CHECKER_INTERVAL=15

# Email checker
EMAIL_CHECKER_ENABLED=false
EMAIL_CHECKER_INTERVAL=5

# --------------------------
# GitHub Integration
# Personal Access Token for GitHub tools
# --------------------------
# GITHUB_TOKEN=ghp_...

# --------------------------
# Azure DevOps Integration
# Organization and PAT for ADO tools
# --------------------------
# AZURE_DEVOPS_ORG=your-organization
# AZURE_DEVOPS_PAT=your-pat
